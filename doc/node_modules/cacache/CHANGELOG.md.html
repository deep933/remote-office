<!DOCTYPE html>
<html>
<head>
  <title>CHANGELOG.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/cacache/CHANGELOG.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#changelog">Changelog</a>
      </div>

      <div class="heading h3">
        <a href="#13.0.1-2019-09-30">13.0.1 (2019-09-30)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#13.0.0-2019-09-25">13.0.0 (2019-09-25)</a>
      </div>

      <div class="heading h3">
        <a href="#warning-breaking-changes">⚠ BREAKING CHANGES</a>
      </div>

      <div class="heading h3">
        <a href="#features">Features</a>
      </div>

      <div class="heading h3">
        <a href="#12.0.3-2019-08-19">12.0.3 (2019-08-19)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-1">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#12.0.2-2019-07-19">12.0.2 (2019-07-19)</a>
      </div>

      <div class="heading h3">
        <a href="#12.0.1-2019-07-19">12.0.1 (2019-07-19)</a>
      </div>

      <div class="heading h2">
        <a href="#12.0.0-2019-07-15">12.0.0 (2019-07-15)</a>
      </div>

      <div class="heading h3">
        <a href="#features-1">Features</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes">BREAKING CHANGES</a>
      </div>

      <div class="heading h3">
        <a href="#11.3.3-2019-06-17">11.3.3 (2019-06-17)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-2">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#11.3.2-2018-12-21">11.3.2 (2018-12-21)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-3">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#11.3.1-2018-11-05">11.3.1 (2018-11-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-4">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#11.3.0-2018-11-05">11.3.0 (2018-11-05)</a>
      </div>

      <div class="heading h3">
        <a href="#features-2">Features</a>
      </div>

      <div class="heading h1">
        <a href="#11.2.0-2018-08-08">11.2.0 (2018-08-08)</a>
      </div>

      <div class="heading h3">
        <a href="#features-3">Features</a>
      </div>

      <div class="heading h1">
        <a href="#11.1.0-2018-08-01">11.1.0 (2018-08-01)</a>
      </div>

      <div class="heading h3">
        <a href="#features-4">Features</a>
      </div>

      <div class="heading h2">
        <a href="#11.0.3-2018-08-01">11.0.3 (2018-08-01)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-5">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#11.0.2-2018-05-07">11.0.2 (2018-05-07)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-6">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#11.0.1-2018-04-10">11.0.1 (2018-04-10)</a>
      </div>

      <div class="heading h1">
        <a href="#11.0.0-2018-04-09">11.0.0 (2018-04-09)</a>
      </div>

      <div class="heading h3">
        <a href="#features-5">Features</a>
      </div>

      <div class="heading h3">
        <a href="#meta">meta</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-1">BREAKING CHANGES</a>
      </div>

      <div class="heading h2">
        <a href="#10.0.4-2018-02-16">10.0.4 (2018-02-16)</a>
      </div>

      <div class="heading h2">
        <a href="#10.0.3-2018-02-16">10.0.3 (2018-02-16)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-7">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#10.0.2-2018-01-07">10.0.2 (2018-01-07)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-8">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#10.0.1-2017-11-15">10.0.1 (2017-11-15)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-9">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#10.0.0-2017-10-23">10.0.0 (2017-10-23)</a>
      </div>

      <div class="heading h3">
        <a href="#features-6">Features</a>
      </div>

      <div class="heading h3">
        <a href="#performance-improvements">Performance Improvements</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-2">BREAKING CHANGES</a>
      </div>

      <div class="heading h1">
        <a href="#9.3.0-2017-10-07">9.3.0 (2017-10-07)</a>
      </div>

      <div class="heading h3">
        <a href="#features-7">Features</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.9-2017-06-17">9.2.9 (2017-06-17)</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.8-2017-06-05">9.2.8 (2017-06-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-10">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.7-2017-06-05">9.2.7 (2017-06-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-11">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.6-2017-05-31">9.2.6 (2017-05-31)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-12">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.5-2017-05-25">9.2.5 (2017-05-25)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-13">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.4-2017-05-24">9.2.4 (2017-05-24)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-14">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.3-2017-05-24">9.2.3 (2017-05-24)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-15">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.2-2017-05-14">9.2.2 (2017-05-14)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-16">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#9.2.1-2017-05-14">9.2.1 (2017-05-14)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-17">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#9.2.0-2017-05-14">9.2.0 (2017-05-14)</a>
      </div>

      <div class="heading h3">
        <a href="#features-8">Features</a>
      </div>

      <div class="heading h1">
        <a href="#9.1.0-2017-05-14">9.1.0 (2017-05-14)</a>
      </div>

      <div class="heading h3">
        <a href="#features-9">Features</a>
      </div>

      <div class="heading h1">
        <a href="#9.0.0-2017-04-28">9.0.0 (2017-04-28)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-18">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-10">Features</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-3">BREAKING CHANGES</a>
      </div>

      <div class="heading h1">
        <a href="#8.0.0-2017-04-22">8.0.0 (2017-04-22)</a>
      </div>

      <div class="heading h3">
        <a href="#features-11">Features</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-4">BREAKING CHANGES</a>
      </div>

      <div class="heading h1">
        <a href="#7.1.0-2017-04-20">7.1.0 (2017-04-20)</a>
      </div>

      <div class="heading h3">
        <a href="#features-12">Features</a>
      </div>

      <div class="heading h2">
        <a href="#7.0.5-2017-04-18">7.0.5 (2017-04-18)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-19">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#7.0.4-2017-04-15">7.0.4 (2017-04-15)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-20">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#7.0.3-2017-04-05">7.0.3 (2017-04-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-21">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#7.0.2-2017-04-03">7.0.2 (2017-04-03)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-22">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#7.0.1-2017-04-03">7.0.1 (2017-04-03)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-23">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#7.0.0-2017-04-03">7.0.0 (2017-04-03)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-24">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-13">Features</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-5">BREAKING CHANGES</a>
      </div>

      <div class="heading h1">
        <a href="#6.3.0-2017-04-01">6.3.0 (2017-04-01)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-25">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-14">Features</a>
      </div>

      <div class="heading h1">
        <a href="#6.2.0-2017-03-15">6.2.0 (2017-03-15)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-26">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-15">Features</a>
      </div>

      <div class="heading h2">
        <a href="#6.1.2-2017-03-13">6.1.2 (2017-03-13)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-27">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#6.1.1-2017-03-13">6.1.1 (2017-03-13)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-28">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#6.1.0-2017-03-12">6.1.0 (2017-03-12)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-29">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-16">Features</a>
      </div>

      <div class="heading h2">
        <a href="#6.0.2-2017-03-11">6.0.2 (2017-03-11)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-30">Bug Fixes</a>
      </div>

      <div class="heading h2">
        <a href="#6.0.1-2017-03-05">6.0.1 (2017-03-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-31">Bug Fixes</a>
      </div>

      <div class="heading h1">
        <a href="#6.0.0-2017-03-05">6.0.0 (2017-03-05)</a>
      </div>

      <div class="heading h3">
        <a href="#bug-fixes-32">Bug Fixes</a>
      </div>

      <div class="heading h3">
        <a href="#features-17">Features</a>
      </div>

      <div class="heading h3">
        <a href="#breaking-changes-6">BREAKING CHANGES</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="changelog">
  <h1>
    <a href="#changelog" name="changelog" class="pilcrow"></a>
Changelog
  </h1>
</div>
<p>All notable changes to this project will be documented in this file. See <a href="https://github.com/conventional-changelog/standard-version">standard-version</a> for commit guidelines.</p>
<div class="pilwrap" id="13.0.1-2019-09-30">
  <h3>
    <a href="#13.0.1-2019-09-30" name="13.0.1-2019-09-30" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v13.0.0...v13.0.1">13.0.1</a> (2019-09-30)
  </h3>
</div>
<div class="pilwrap" id="bug-fixes">
  <h3>
    <a href="#bug-fixes" name="bug-fixes" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>fix-owner:</strong> chownr.sync quits on non-root uid (<a href="https://github.com/npm/cacache/commit/08801be">08801be</a>)</li>
</ul>
<div class="pilwrap" id="13.0.0-2019-09-25">
  <h2>
    <a href="#13.0.0-2019-09-25" name="13.0.0-2019-09-25" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v12.0.3...v13.0.0">13.0.0</a> (2019-09-25)
  </h2>
</div>
<div class="pilwrap" id="warning-breaking-changes">
  <h3>
    <a href="#warning-breaking-changes" name="warning-breaking-changes" class="pilcrow"></a>
⚠ BREAKING CHANGES
  </h3>
</div>
<ul>
<li>This subtly changes the streaming interface of
everything in cacache that streams, which is, well, everything in
cacache.  Most users will probably not notice, but any code that
depended on stream behavior always being deferred until next tick will
need to adjust.</li>
</ul>
<p>The mississippi methods 'to', 'from', 'through', and so on, have been
replaced with their Minipass counterparts, and streaming interaction
with the file system is done via fs-minipass.</p>
<p>The following modules are of interest here:</p>
<ul>
<li>
<p><a href="http://npm.im/minipass">minipass</a> The core stream library.</p>
</li>
<li>
<p><a href="http://npm.im/fs-minipass">fs-minipass</a>  Note that the 'WriteStream'
class from fs-minipass is <em>not</em> a Minipass stream, but rather a plain
old EventEmitter that duck types as a Writable.</p>
</li>
<li>
<p><a href="http://npm.im/minipass-collect">minipass-collect</a> Gather up all the
data from a stream.  Cacache only uses Collect.PassThrough, which is a
basic Minipass passthrough stream which emits a 'collect' event with
the completed data just before the 'end' event.</p>
</li>
<li>
<p><a href="http://npm.im/minipass-pipeline">minipass-pipeline</a> Connect one or
more streams into a pipe chain.  Errors anywhere in the pipeline are
proxied down the chain and then up to the Pipeline object itself.
Writes go into the head, reads go to the tail.  Used in place of
pump() and pumpify().</p>
</li>
<li>
<p><a href="http://npm.im/minipass-flush">minipass-flush</a> A Minipass passthrough
stream that defers its 'end' event until after a flush() method has
completed (either calling the supplied callback, or returning a
promise.)  Use in place of flush-write-stream (aka mississippi.to).</p>
</li>
</ul>
<p>Streams from through2, concat-stream, and the behavior provided by
end-of-stream are all implemented in Minipass itself.</p>
<p>Features of interest to cacache, which make Minipass a particularly good
fit:</p>
<ul>
<li>All of the 'endish' events are normalized, so we can just listen on
'end' and know that finish, prefinish, and close will be handled as
well.</li>
<li>Minipass doesn't waste time <a href="https://blog.izs.me/2013/08/designing-apis-for-asynchrony">containing
zalgo</a>.</li>
<li>Minipass has built-in support for promises that indicate the end or
error: stream.promise(), stream.collect(), and stream.concat().</li>
<li>With reliable and consistent timing guarantees, much less
error-checking logic is required.  We can be more confident that an
error is being thrown or emitted in the correct place, rather than in
a callback which is deferred, resulting in a hung promise or
uncaughtException.</li>
</ul>
<p>The biggest downside of Minipass is that it lacks some of the internal
characteristics of node-core streams, which many community modules use
to identify streams.  They have no _writableState or _readableState
objects, or _read or _write methods.  As a result, the is-stream module
(at least, at the time of this commit) doesn't recognize Minipass
streams as readable or writable streams.</p>
<p>All in all, the changes required of downstream users should be minimal,
but are unlikely to be zero.  Hence the semver major change.</p>
<div class="pilwrap" id="features">
  <h3>
    <a href="#features" name="features" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li>replace all streams with Minipass streams (<a href="https://github.com/npm/cacache/commit/f4c0962">f4c0962</a>)</li>
<li><strong>deps:</strong> Add minipass and minipass-pipeline (<a href="https://github.com/npm/cacache/commit/a6545a9">a6545a9</a>)</li>
<li><strong>promise:</strong> converted .resolve to native promise, converted .map and .reduce to native (<a href="https://github.com/npm/cacache/commit/220c56d">220c56d</a>)</li>
<li><strong>promise:</strong> individually promisifing functions as needed (<a href="https://github.com/npm/cacache/commit/74b939e">74b939e</a>)</li>
<li><strong>promise:</strong> moved .reject from bluebird to native promise (<a href="https://github.com/npm/cacache/commit/1d56da1">1d56da1</a>)</li>
<li><strong>promise:</strong> removed .fromNode, removed .join (<a href="https://github.com/npm/cacache/commit/9c457a0">9c457a0</a>)</li>
<li><strong>promise:</strong> removed .map, replaced with p-map. removed .try (<a href="https://github.com/npm/cacache/commit/cc3ee05">cc3ee05</a>)</li>
<li><strong>promise:</strong> removed .tap (<a href="https://github.com/npm/cacache/commit/0260f12">0260f12</a>)</li>
<li><strong>promise:</strong> removed .using/.disposer (<a href="https://github.com/npm/cacache/commit/5d832f3">5d832f3</a>)</li>
<li><strong>promise:</strong> removed bluebird (<a href="https://github.com/npm/cacache/commit/c21298c">c21298c</a>)</li>
<li><strong>promise:</strong> removed bluebird specific .catch calls (<a href="https://github.com/npm/cacache/commit/28aeeac">28aeeac</a>)</li>
<li><strong>promise:</strong> replaced .reduce and .mapSeries (<a href="https://github.com/npm/cacache/commit/478f5cb">478f5cb</a>)</li>
</ul>
<div class="pilwrap" id="12.0.3-2019-08-19">
  <h3>
    <a href="#12.0.3-2019-08-19" name="12.0.3-2019-08-19" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v12.0.2...v12.0.3">12.0.3</a> (2019-08-19)
  </h3>
</div>
<div class="pilwrap" id="bug-fixes-1">
  <h3>
    <a href="#bug-fixes-1" name="bug-fixes-1" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li>do not chown if not running as root (<a href="https://github.com/npm/cacache/commit/2d80af9">2d80af9</a>)</li>
</ul>
<div class="pilwrap" id="12.0.2-2019-07-19">
  <h3>
    <a href="#12.0.2-2019-07-19" name="12.0.2-2019-07-19" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v12.0.1...v12.0.2">12.0.2</a> (2019-07-19)
  </h3>
</div>
<div class="pilwrap" id="12.0.1-2019-07-19">
  <h3>
    <a href="#12.0.1-2019-07-19" name="12.0.1-2019-07-19" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v12.0.0...v12.0.1">12.0.1</a> (2019-07-19)
  </h3>
</div>
<ul>
<li><strong>deps</strong> Abstracted out <code>lib/util/infer-owner.js</code> to
<a href="https://www.npmjs.com/package/@npmcli/infer-owner">@npmcli/infer-owner</a>
so that it could be more easily used in other parts of the npm CLI.</li>
</ul>
<div class="pilwrap" id="12.0.0-2019-07-15">
  <h2>
    <a href="#12.0.0-2019-07-15" name="12.0.0-2019-07-15" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.3.3...v12.0.0">12.0.0</a> (2019-07-15)
  </h2>
</div>
<div class="pilwrap" id="features-1">
  <h3>
    <a href="#features-1" name="features-1" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li>infer uid/gid instead of accepting as options (<a href="https://github.com/npm/cacache/commit/ac84d14">ac84d14</a>)</li>
<li><strong>i18n:</strong> add another error message (<a href="https://github.com/npm/cacache/commit/676cb32">676cb32</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes">
  <h3>
    <a href="#breaking-changes" name="breaking-changes" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li>the uid gid options are no longer respected or
necessary.  As of this change, cacache will always match the cache
contents to the ownership of the cache directory (or its parent
directory), regardless of what the caller passes in.</li>
</ul>
<p>Reasoning:</p>
<p>The number one reason to use a uid or gid option was to keep root-owned
files from causing problems in the cache.  In npm's case, this meant
that CLI's ./lib/command.js had to work out the appropriate uid and gid,
then pass it to the libnpmcommand module, which had to in turn pass the
uid and gid to npm-registry-fetch, which then passed it to
make-fetch-happen, which passed it to cacache.  (For package fetching,
pacote would be in that mix as well.)</p>
<p>Added to that, <code>cacache.rm()</code> will actually <em>write</em> a file into the
cache index, but has no way to accept an option so that its call to
entry-index.js will write the index with the appropriate uid/gid.
Little ownership bugs were all over the place, and tricky to trace
through.  (Why should make-fetch-happen even care about accepting or
passing uids and gids?  It's an http library.)</p>
<p>This change allows us to keep the cache from having mixed ownership in
any situation.</p>
<p>Of course, this <em>does</em> mean that if you have a root-owned but
user-writable folder (for example, <code>/tmp</code>), then the cache will try to
chown everything to root.</p>
<p>The solution is for the user to create a folder, make it user-owned, and
use that, rather than relying on cacache to create the root cache folder.</p>
<p>If we decide to restore the uid/gid opts, and use ownership inference
only when uid/gid are unset, then take care to also make rm take an
option object, and pass it through to entry-index.js.</p>
<div class="pilwrap" id="11.3.3-2019-06-17">
  <h3>
    <a href="#11.3.3-2019-06-17" name="11.3.3-2019-06-17" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.3.2...v11.3.3">11.3.3</a> (2019-06-17)
  </h3>
</div>
<div class="pilwrap" id="bug-fixes-2">
  <h3>
    <a href="#bug-fixes-2" name="bug-fixes-2" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>audit:</strong> npm audit fix (<a href="https://github.com/npm/cacache/commit/200a6d5">200a6d5</a>)</li>
<li><strong>config:</strong> Add ssri config 'error' option (<a href="https://github.com/npm/cacache/issues/146">#146</a>) (<a href="https://github.com/npm/cacache/commit/47de8f5">47de8f5</a>)</li>
<li><strong>deps:</strong> npm audit fix (<a href="https://github.com/npm/cacache/commit/481a7dc">481a7dc</a>)</li>
<li><strong>standard:</strong> standard --fix (<a href="https://github.com/npm/cacache/commit/7799149">7799149</a>)</li>
<li><strong>write:</strong> avoid another cb never called situation (<a href="https://github.com/npm/cacache/commit/5156561">5156561</a>)</li>
</ul>
<p><a name="11.3.2"></a></p>
<div class="pilwrap" id="11.3.2-2018-12-21">
  <h2>
    <a href="#11.3.2-2018-12-21" name="11.3.2-2018-12-21" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.3.1...v11.3.2">11.3.2</a> (2018-12-21)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-3">
  <h3>
    <a href="#bug-fixes-3" name="bug-fixes-3" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>get:</strong> make sure to handle errors in the .then (<a href="https://github.com/npm/cacache/commit/b10bcd0">b10bcd0</a>)</li>
</ul>
<p><a name="11.3.1"></a></p>
<div class="pilwrap" id="11.3.1-2018-11-05">
  <h2>
    <a href="#11.3.1-2018-11-05" name="11.3.1-2018-11-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.3.0...v11.3.1">11.3.1</a> (2018-11-05)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-4">
  <h3>
    <a href="#bug-fixes-4" name="bug-fixes-4" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>get:</strong> export hasContent.sync properly (<a href="https://github.com/npm/cacache/commit/d76c920">d76c920</a>)</li>
</ul>
<p><a name="11.3.0"></a></p>
<div class="pilwrap" id="11.3.0-2018-11-05">
  <h1>
    <a href="#11.3.0-2018-11-05" name="11.3.0-2018-11-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.2.0...v11.3.0">11.3.0</a> (2018-11-05)
  </h1>
</div>
<div class="pilwrap" id="features-2">
  <h3>
    <a href="#features-2" name="features-2" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>get:</strong> add sync API for reading (<a href="https://github.com/npm/cacache/commit/db1e094">db1e094</a>)</li>
</ul>
<p><a name="11.2.0"></a></p>
<div class="pilwrap" id="11.2.0-2018-08-08">
  <h1>
    <a href="#11.2.0-2018-08-08" name="11.2.0-2018-08-08" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.1.0...v11.2.0">11.2.0</a> (2018-08-08)
  </h1>
</div>
<div class="pilwrap" id="features-3">
  <h3>
    <a href="#features-3" name="features-3" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>read:</strong> add sync support to other internal read.js fns (<a href="https://github.com/npm/cacache/commit/fe638b6">fe638b6</a>)</li>
</ul>
<p><a name="11.1.0"></a></p>
<div class="pilwrap" id="11.1.0-2018-08-01">
  <h1>
    <a href="#11.1.0-2018-08-01" name="11.1.0-2018-08-01" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.0.3...v11.1.0">11.1.0</a> (2018-08-01)
  </h1>
</div>
<div class="pilwrap" id="features-4">
  <h3>
    <a href="#features-4" name="features-4" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>read:</strong> add sync support for low-level content read (<a href="https://github.com/npm/cacache/commit/b43af83">b43af83</a>)</li>
</ul>
<p><a name="11.0.3"></a></p>
<div class="pilwrap" id="11.0.3-2018-08-01">
  <h2>
    <a href="#11.0.3-2018-08-01" name="11.0.3-2018-08-01" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.0.2...v11.0.3">11.0.3</a> (2018-08-01)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-5">
  <h3>
    <a href="#bug-fixes-5" name="bug-fixes-5" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>config:</strong> add ssri config options (<a href="https://github.com/npm/cacache/issues/136">#136</a>) (<a href="https://github.com/npm/cacache/commit/10d5d9a">10d5d9a</a>)</li>
<li><strong>perf:</strong> refactor content.read to avoid lstats (<a href="https://github.com/npm/cacache/commit/c5ac10e">c5ac10e</a>)</li>
<li><strong>test:</strong> oops when removing safe-buffer (<a href="https://github.com/npm/cacache/commit/1950490">1950490</a>)</li>
</ul>
<p><a name="11.0.2"></a></p>
<div class="pilwrap" id="11.0.2-2018-05-07">
  <h2>
    <a href="#11.0.2-2018-05-07" name="11.0.2-2018-05-07" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.0.1...v11.0.2">11.0.2</a> (2018-05-07)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-6">
  <h3>
    <a href="#bug-fixes-6" name="bug-fixes-6" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>verify:</strong> size param no longer lost in a verify (<a href="https://github.com/npm/cacache/issues/131">#131</a>) (<a href="https://github.com/npm/cacache/commit/c614a19">c614a19</a>), closes <a href="https://github.com/npm/cacache/issues/130">#130</a></li>
</ul>
<p><a name="11.0.1"></a></p>
<div class="pilwrap" id="11.0.1-2018-04-10">
  <h2>
    <a href="#11.0.1-2018-04-10" name="11.0.1-2018-04-10" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v11.0.0...v11.0.1">11.0.1</a> (2018-04-10)
  </h2>
</div>
<p><a name="11.0.0"></a></p>
<div class="pilwrap" id="11.0.0-2018-04-09">
  <h1>
    <a href="#11.0.0-2018-04-09" name="11.0.0-2018-04-09" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v10.0.4...v11.0.0">11.0.0</a> (2018-04-09)
  </h1>
</div>
<div class="pilwrap" id="features-5">
  <h3>
    <a href="#features-5" name="features-5" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>opts:</strong> use figgy-pudding for opts (<a href="https://github.com/npm/cacache/issues/128">#128</a>) (<a href="https://github.com/npm/cacache/commit/33d4eed">33d4eed</a>)</li>
</ul>
<div class="pilwrap" id="meta">
  <h3>
    <a href="#meta" name="meta" class="pilcrow"></a>
meta
  </h3>
</div>
<ul>
<li>drop support for node@4 (<a href="https://github.com/npm/cacache/commit/529f347">529f347</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes-1">
  <h3>
    <a href="#breaking-changes-1" name="breaking-changes-1" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li>node@4 is no longer supported</li>
</ul>
<p><a name="10.0.4"></a></p>
<div class="pilwrap" id="10.0.4-2018-02-16">
  <h2>
    <a href="#10.0.4-2018-02-16" name="10.0.4-2018-02-16" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v10.0.3...v10.0.4">10.0.4</a> (2018-02-16)
  </h2>
</div>
<p><a name="10.0.3"></a></p>
<div class="pilwrap" id="10.0.3-2018-02-16">
  <h2>
    <a href="#10.0.3-2018-02-16" name="10.0.3-2018-02-16" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v10.0.2...v10.0.3">10.0.3</a> (2018-02-16)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-7">
  <h3>
    <a href="#bug-fixes-7" name="bug-fixes-7" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>content:</strong> rethrow aggregate errors as ENOENT (<a href="https://github.com/npm/cacache/commit/fa918f5">fa918f5</a>)</li>
</ul>
<p><a name="10.0.2"></a></p>
<div class="pilwrap" id="10.0.2-2018-01-07">
  <h2>
    <a href="#10.0.2-2018-01-07" name="10.0.2-2018-01-07" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v10.0.1...v10.0.2">10.0.2</a> (2018-01-07)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-8">
  <h3>
    <a href="#bug-fixes-8" name="bug-fixes-8" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>ls:</strong> deleted entries could cause a premature stream EOF (<a href="https://github.com/npm/cacache/commit/347dc36">347dc36</a>)</li>
</ul>
<p><a name="10.0.1"></a></p>
<div class="pilwrap" id="10.0.1-2017-11-15">
  <h2>
    <a href="#10.0.1-2017-11-15" name="10.0.1-2017-11-15" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v10.0.0...v10.0.1">10.0.1</a> (2017-11-15)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-9">
  <h3>
    <a href="#bug-fixes-9" name="bug-fixes-9" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>move-file:</strong> actually use the fallback to <code>move-concurrently</code> (#110) (<a href="https://github.com/npm/cacache/commit/073fbe1">073fbe1</a>)</li>
</ul>
<p><a name="10.0.0"></a></p>
<div class="pilwrap" id="10.0.0-2017-10-23">
  <h1>
    <a href="#10.0.0-2017-10-23" name="10.0.0-2017-10-23" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.3.0...v10.0.0">10.0.0</a> (2017-10-23)
  </h1>
</div>
<div class="pilwrap" id="features-6">
  <h3>
    <a href="#features-6" name="features-6" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>license:</strong> relicense to ISC (#111) (<a href="https://github.com/npm/cacache/commit/fdbb4e5">fdbb4e5</a>)</li>
</ul>
<div class="pilwrap" id="performance-improvements">
  <h3>
    <a href="#performance-improvements" name="performance-improvements" class="pilcrow"></a>
Performance Improvements
  </h3>
</div>
<ul>
<li>more copyFile benchmarks (<a href="https://github.com/npm/cacache/commit/63787bb">63787bb</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes-2">
  <h3>
    <a href="#breaking-changes-2" name="breaking-changes-2" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li><strong>license:</strong> the license has been changed from CC0-1.0 to ISC.</li>
</ul>
<p><a name="9.3.0"></a></p>
<div class="pilwrap" id="9.3.0-2017-10-07">
  <h1>
    <a href="#9.3.0-2017-10-07" name="9.3.0-2017-10-07" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.9...v9.3.0">9.3.0</a> (2017-10-07)
  </h1>
</div>
<div class="pilwrap" id="features-7">
  <h3>
    <a href="#features-7" name="features-7" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>copy:</strong> added cacache.get.copy api for fast copies (#107) (<a href="https://github.com/npm/cacache/commit/067b5f6">067b5f6</a>)</li>
</ul>
<p><a name="9.2.9"></a></p>
<div class="pilwrap" id="9.2.9-2017-06-17">
  <h2>
    <a href="#9.2.9-2017-06-17" name="9.2.9-2017-06-17" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.8...v9.2.9">9.2.9</a> (2017-06-17)
  </h2>
</div>
<p><a name="9.2.8"></a></p>
<div class="pilwrap" id="9.2.8-2017-06-05">
  <h2>
    <a href="#9.2.8-2017-06-05" name="9.2.8-2017-06-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.7...v9.2.8">9.2.8</a> (2017-06-05)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-10">
  <h3>
    <a href="#bug-fixes-10" name="bug-fixes-10" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>ssri:</strong> bump ssri for bugfix (<a href="https://github.com/npm/cacache/commit/c3232ea">c3232ea</a>)</li>
</ul>
<p><a name="9.2.7"></a></p>
<div class="pilwrap" id="9.2.7-2017-06-05">
  <h2>
    <a href="#9.2.7-2017-06-05" name="9.2.7-2017-06-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.6...v9.2.7">9.2.7</a> (2017-06-05)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-11">
  <h3>
    <a href="#bug-fixes-11" name="bug-fixes-11" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>content:</strong> make verified content completely read-only (#96) (<a href="https://github.com/npm/cacache/commit/4131196">4131196</a>)</li>
</ul>
<p><a name="9.2.6"></a></p>
<div class="pilwrap" id="9.2.6-2017-05-31">
  <h2>
    <a href="#9.2.6-2017-05-31" name="9.2.6-2017-05-31" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.5...v9.2.6">9.2.6</a> (2017-05-31)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-12">
  <h3>
    <a href="#bug-fixes-12" name="bug-fixes-12" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>node:</strong> update ssri to prevent old node 4 crash (<a href="https://github.com/npm/cacache/commit/5209ffe">5209ffe</a>)</li>
</ul>
<p><a name="9.2.5"></a></p>
<div class="pilwrap" id="9.2.5-2017-05-25">
  <h2>
    <a href="#9.2.5-2017-05-25" name="9.2.5-2017-05-25" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.4...v9.2.5">9.2.5</a> (2017-05-25)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-13">
  <h3>
    <a href="#bug-fixes-13" name="bug-fixes-13" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>deps:</strong> fix lockfile issues and bump ssri (<a href="https://github.com/npm/cacache/commit/84e1d7e">84e1d7e</a>)</li>
</ul>
<p><a name="9.2.4"></a></p>
<div class="pilwrap" id="9.2.4-2017-05-24">
  <h2>
    <a href="#9.2.4-2017-05-24" name="9.2.4-2017-05-24" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.3...v9.2.4">9.2.4</a> (2017-05-24)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-14">
  <h3>
    <a href="#bug-fixes-14" name="bug-fixes-14" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>deps:</strong> bumping deps (<a href="https://github.com/npm/cacache/commit/bbccb12">bbccb12</a>)</li>
</ul>
<p><a name="9.2.3"></a></p>
<div class="pilwrap" id="9.2.3-2017-05-24">
  <h2>
    <a href="#9.2.3-2017-05-24" name="9.2.3-2017-05-24" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.2...v9.2.3">9.2.3</a> (2017-05-24)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-15">
  <h3>
    <a href="#bug-fixes-15" name="bug-fixes-15" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>rm:</strong> stop crashing if content is missing on rm (<a href="https://github.com/npm/cacache/commit/ac90bc0">ac90bc0</a>)</li>
</ul>
<p><a name="9.2.2"></a></p>
<div class="pilwrap" id="9.2.2-2017-05-14">
  <h2>
    <a href="#9.2.2-2017-05-14" name="9.2.2-2017-05-14" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.1...v9.2.2">9.2.2</a> (2017-05-14)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-16">
  <h3>
    <a href="#bug-fixes-16" name="bug-fixes-16" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>i18n:</strong> lets pretend this didn't happen (<a href="https://github.com/npm/cacache/commit/519b4ee">519b4ee</a>)</li>
</ul>
<p><a name="9.2.1"></a></p>
<div class="pilwrap" id="9.2.1-2017-05-14">
  <h2>
    <a href="#9.2.1-2017-05-14" name="9.2.1-2017-05-14" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.2.0...v9.2.1">9.2.1</a> (2017-05-14)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-17">
  <h3>
    <a href="#bug-fixes-17" name="bug-fixes-17" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>docs:</strong> fixing translation messup (<a href="https://github.com/npm/cacache/commit/bb9e4f9">bb9e4f9</a>)</li>
</ul>
<p><a name="9.2.0"></a></p>
<div class="pilwrap" id="9.2.0-2017-05-14">
  <h1>
    <a href="#9.2.0-2017-05-14" name="9.2.0-2017-05-14" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.1.0...v9.2.0">9.2.0</a> (2017-05-14)
  </h1>
</div>
<div class="pilwrap" id="features-8">
  <h3>
    <a href="#features-8" name="features-8" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>i18n:</strong> add Spanish translation for API (<a href="https://github.com/npm/cacache/commit/531f9a4">531f9a4</a>)</li>
</ul>
<p><a name="9.1.0"></a></p>
<div class="pilwrap" id="9.1.0-2017-05-14">
  <h1>
    <a href="#9.1.0-2017-05-14" name="9.1.0-2017-05-14" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v9.0.0...v9.1.0">9.1.0</a> (2017-05-14)
  </h1>
</div>
<div class="pilwrap" id="features-9">
  <h3>
    <a href="#features-9" name="features-9" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>i18n:</strong> Add Spanish translation and i18n setup (#91) (<a href="https://github.com/npm/cacache/commit/323b90c">323b90c</a>)</li>
</ul>
<p><a name="9.0.0"></a></p>
<div class="pilwrap" id="9.0.0-2017-04-28">
  <h1>
    <a href="#9.0.0-2017-04-28" name="9.0.0-2017-04-28" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v8.0.0...v9.0.0">9.0.0</a> (2017-04-28)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-18">
  <h3>
    <a href="#bug-fixes-18" name="bug-fixes-18" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>memoization:</strong> actually use the LRU (<a href="https://github.com/npm/cacache/commit/0e55dc9">0e55dc9</a>)</li>
</ul>
<div class="pilwrap" id="features-10">
  <h3>
    <a href="#features-10" name="features-10" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>memoization:</strong> memoizers can be injected through opts.memoize (#90) (<a href="https://github.com/npm/cacache/commit/e5614c7">e5614c7</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes-3">
  <h3>
    <a href="#breaking-changes-3" name="breaking-changes-3" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li><strong>memoization:</strong> If you were passing an object to opts.memoize, it will now be used as an injected memoization object. If you were only passing booleans and other non-objects through that option, no changes are needed.</li>
</ul>
<p><a name="8.0.0"></a></p>
<div class="pilwrap" id="8.0.0-2017-04-22">
  <h1>
    <a href="#8.0.0-2017-04-22" name="8.0.0-2017-04-22" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.1.0...v8.0.0">8.0.0</a> (2017-04-22)
  </h1>
</div>
<div class="pilwrap" id="features-11">
  <h3>
    <a href="#features-11" name="features-11" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>read:</strong> change hasContent to return {sri, size} (#88) (<a href="https://github.com/npm/cacache/commit/bad6c49">bad6c49</a>), closes <a href="https://github.com/npm/cacache/issues/87">#87</a></li>
</ul>
<div class="pilwrap" id="breaking-changes-4">
  <h3>
    <a href="#breaking-changes-4" name="breaking-changes-4" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li><strong>read:</strong> hasContent now returns an object with <code>{sri, size}</code> instead of <code>sri</code>. Use <code>result.sri</code> anywhere that needed the old return value.</li>
</ul>
<p><a name="7.1.0"></a></p>
<div class="pilwrap" id="7.1.0-2017-04-20">
  <h1>
    <a href="#7.1.0-2017-04-20" name="7.1.0-2017-04-20" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.5...v7.1.0">7.1.0</a> (2017-04-20)
  </h1>
</div>
<div class="pilwrap" id="features-12">
  <h3>
    <a href="#features-12" name="features-12" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>size:</strong> handle content size info (#49) (<a href="https://github.com/npm/cacache/commit/91230af">91230af</a>)</li>
</ul>
<p><a name="7.0.5"></a></p>
<div class="pilwrap" id="7.0.5-2017-04-18">
  <h2>
    <a href="#7.0.5-2017-04-18" name="7.0.5-2017-04-18" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.4...v7.0.5">7.0.5</a> (2017-04-18)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-19">
  <h3>
    <a href="#bug-fixes-19" name="bug-fixes-19" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>integrity:</strong> new ssri with fixed integrity stream (<a href="https://github.com/npm/cacache/commit/6d13e8e">6d13e8e</a>)</li>
<li><strong>write:</strong> wrap stuff in promises to improve errors (<a href="https://github.com/npm/cacache/commit/3624fc5">3624fc5</a>)</li>
</ul>
<p><a name="7.0.4"></a></p>
<div class="pilwrap" id="7.0.4-2017-04-15">
  <h2>
    <a href="#7.0.4-2017-04-15" name="7.0.4-2017-04-15" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.3...v7.0.4">7.0.4</a> (2017-04-15)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-20">
  <h3>
    <a href="#bug-fixes-20" name="bug-fixes-20" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>fix-owner:</strong> throw away ENOENTs on chownr (<a href="https://github.com/npm/cacache/commit/d49bbcd">d49bbcd</a>)</li>
</ul>
<p><a name="7.0.3"></a></p>
<div class="pilwrap" id="7.0.3-2017-04-05">
  <h2>
    <a href="#7.0.3-2017-04-05" name="7.0.3-2017-04-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.2...v7.0.3">7.0.3</a> (2017-04-05)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-21">
  <h3>
    <a href="#bug-fixes-21" name="bug-fixes-21" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>read:</strong> fixing error message for integrity verification failures (<a href="https://github.com/npm/cacache/commit/9d4f0a5">9d4f0a5</a>)</li>
</ul>
<p><a name="7.0.2"></a></p>
<div class="pilwrap" id="7.0.2-2017-04-03">
  <h2>
    <a href="#7.0.2-2017-04-03" name="7.0.2-2017-04-03" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.1...v7.0.2">7.0.2</a> (2017-04-03)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-22">
  <h3>
    <a href="#bug-fixes-22" name="bug-fixes-22" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>integrity:</strong> use EINTEGRITY error code and update ssri (<a href="https://github.com/npm/cacache/commit/8dc2e62">8dc2e62</a>)</li>
</ul>
<p><a name="7.0.1"></a></p>
<div class="pilwrap" id="7.0.1-2017-04-03">
  <h2>
    <a href="#7.0.1-2017-04-03" name="7.0.1-2017-04-03" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v7.0.0...v7.0.1">7.0.1</a> (2017-04-03)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-23">
  <h3>
    <a href="#bug-fixes-23" name="bug-fixes-23" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>docs:</strong> fix header name conflict in readme (<a href="https://github.com/npm/cacache/commit/afcd456">afcd456</a>)</li>
</ul>
<p><a name="7.0.0"></a></p>
<div class="pilwrap" id="7.0.0-2017-04-03">
  <h1>
    <a href="#7.0.0-2017-04-03" name="7.0.0-2017-04-03" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.3.0...v7.0.0">7.0.0</a> (2017-04-03)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-24">
  <h3>
    <a href="#bug-fixes-24" name="bug-fixes-24" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>test:</strong> fix content.write tests when running in docker (<a href="https://github.com/npm/cacache/commit/d2e9b6a">d2e9b6a</a>)</li>
</ul>
<div class="pilwrap" id="features-13">
  <h3>
    <a href="#features-13" name="features-13" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>integrity:</strong> subresource integrity support (#78) (<a href="https://github.com/npm/cacache/commit/b1e731f">b1e731f</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes-5">
  <h3>
    <a href="#breaking-changes-5" name="breaking-changes-5" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li>
<p><strong>integrity:</strong> The entire API has been overhauled to use SRI hashes instead of digest/hashAlgorithm pairs. SRI hashes follow the Subresource Integrity standard and support strings and objects compatible with <a href="https://npm.im/ssri"><code>ssri</code></a>.</p>
</li>
<li>
<p>This change bumps the index version, which will invalidate all previous index entries. Content entries will remain intact, and existing caches will automatically reuse any content from before this breaking change.</p>
</li>
<li>
<p><code>cacache.get.info()</code>, <code>cacache.ls()</code>, and <code>cacache.ls.stream()</code> will now return objects that looks like this:</p>
</li>
</ul>
<pre><code>{
  key: String,
  integrity: '&lt;algorithm&gt;-&lt;base64hash&gt;',
  path: ContentPath,
  time: Date&lt;ms&gt;,
  metadata: Any
}
</code></pre>
<ul>
<li>
<p><code>opts.digest</code> and <code>opts.hashAlgorithm</code> are obsolete for any API calls that used them.</p>
</li>
<li>
<p>Anywhere <code>opts.digest</code> was accepted, <code>opts.integrity</code> is now an option. Any valid SRI hash is accepted here -- multiple hash entries will be resolved according to the standard: first, the &quot;strongest&quot; hash algorithm will be picked, and then each of the entries for that algorithm will be matched against the content. Content will be validated if <em>any</em> of the entries match (so, a single integrity string can be used for multiple &quot;versions&quot; of the same document/data).</p>
</li>
<li>
<p><code>put.byDigest()</code>, <code>put.stream.byDigest</code>, <code>get.byDigest()</code> and <code>get.stream.byDigest()</code> now expect an SRI instead of a <code>digest</code> + <code>opts.hashAlgorithm</code> pairing.</p>
</li>
<li>
<p><code>get.hasContent()</code> now expects an integrity hash instead of a digest. If content exists, it will return the specific single integrity hash that was found in the cache.</p>
</li>
<li>
<p><code>verify()</code> has learned to handle integrity-based caches, and forgotten how to handle old-style cache indices due to the format change.</p>
</li>
<li>
<p><code>cacache.rm.content()</code> now expects an integrity hash instead of a hex digest.</p>
</li>
</ul>
<p><a name="6.3.0"></a></p>
<div class="pilwrap" id="6.3.0-2017-04-01">
  <h1>
    <a href="#6.3.0-2017-04-01" name="6.3.0-2017-04-01" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.2.0...v6.3.0">6.3.0</a> (2017-04-01)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-25">
  <h3>
    <a href="#bug-fixes-25" name="bug-fixes-25" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>fixOwner:</strong> ignore EEXIST race condition from mkdirp (<a href="https://github.com/npm/cacache/commit/4670e9b">4670e9b</a>)</li>
<li><strong>index:</strong> ignore index removal races when inserting (<a href="https://github.com/npm/cacache/commit/b9d2fa2">b9d2fa2</a>)</li>
<li><strong>memo:</strong> use lru-cache for better mem management (#75) (<a href="https://github.com/npm/cacache/commit/d8ac5aa">d8ac5aa</a>)</li>
</ul>
<div class="pilwrap" id="features-14">
  <h3>
    <a href="#features-14" name="features-14" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>dependencies:</strong> Switch to move-concurrently (#77) (<a href="https://github.com/npm/cacache/commit/dc6482d">dc6482d</a>)</li>
</ul>
<p><a name="6.2.0"></a></p>
<div class="pilwrap" id="6.2.0-2017-03-15">
  <h1>
    <a href="#6.2.0-2017-03-15" name="6.2.0-2017-03-15" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.1.2...v6.2.0">6.2.0</a> (2017-03-15)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-26">
  <h3>
    <a href="#bug-fixes-26" name="bug-fixes-26" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>index:</strong> additional bucket entry verification with checksum (#72) (<a href="https://github.com/npm/cacache/commit/f8e0f25">f8e0f25</a>)</li>
<li><strong>verify:</strong> return fixOwner.chownr promise (<a href="https://github.com/npm/cacache/commit/6818521">6818521</a>)</li>
</ul>
<div class="pilwrap" id="features-15">
  <h3>
    <a href="#features-15" name="features-15" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>tmp:</strong> safe tmp dir creation/management util (#73) (<a href="https://github.com/npm/cacache/commit/c42da71">c42da71</a>)</li>
</ul>
<p><a name="6.1.2"></a></p>
<div class="pilwrap" id="6.1.2-2017-03-13">
  <h2>
    <a href="#6.1.2-2017-03-13" name="6.1.2-2017-03-13" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.1.1...v6.1.2">6.1.2</a> (2017-03-13)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-27">
  <h3>
    <a href="#bug-fixes-27" name="bug-fixes-27" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>index:</strong> set default hashAlgorithm (<a href="https://github.com/npm/cacache/commit/d6eb2f0">d6eb2f0</a>)</li>
</ul>
<p><a name="6.1.1"></a></p>
<div class="pilwrap" id="6.1.1-2017-03-13">
  <h2>
    <a href="#6.1.1-2017-03-13" name="6.1.1-2017-03-13" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.1.0...v6.1.1">6.1.1</a> (2017-03-13)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-28">
  <h3>
    <a href="#bug-fixes-28" name="bug-fixes-28" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>coverage:</strong> bumping coverage for verify (#71) (<a href="https://github.com/npm/cacache/commit/0b7faf6">0b7faf6</a>)</li>
<li><strong>deps:</strong> glob should have been a regular dep :&lt; (<a href="https://github.com/npm/cacache/commit/0640bc4">0640bc4</a>)</li>
</ul>
<p><a name="6.1.0"></a></p>
<div class="pilwrap" id="6.1.0-2017-03-12">
  <h1>
    <a href="#6.1.0-2017-03-12" name="6.1.0-2017-03-12" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.0.2...v6.1.0">6.1.0</a> (2017-03-12)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-29">
  <h3>
    <a href="#bug-fixes-29" name="bug-fixes-29" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>coverage:</strong> more coverage for content reads (#70) (<a href="https://github.com/npm/cacache/commit/ef4f70a">ef4f70a</a>)</li>
<li><strong>tests:</strong> use safe-buffer because omfg (#69) (<a href="https://github.com/npm/cacache/commit/6ab8132">6ab8132</a>)</li>
</ul>
<div class="pilwrap" id="features-16">
  <h3>
    <a href="#features-16" name="features-16" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>rm:</strong> limited rm.all and fixed bugs (#66) (<a href="https://github.com/npm/cacache/commit/d5d25ba">d5d25ba</a>), closes <a href="https://github.com/npm/cacache/issues/66">#66</a></li>
<li><strong>verify:</strong> tested, working cache verifier/gc (#68) (<a href="https://github.com/npm/cacache/commit/45ad77a">45ad77a</a>)</li>
</ul>
<p><a name="6.0.2"></a></p>
<div class="pilwrap" id="6.0.2-2017-03-11">
  <h2>
    <a href="#6.0.2-2017-03-11" name="6.0.2-2017-03-11" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.0.1...v6.0.2">6.0.2</a> (2017-03-11)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-30">
  <h3>
    <a href="#bug-fixes-30" name="bug-fixes-30" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>index:</strong> segment cache items with another subbucket (#64) (<a href="https://github.com/npm/cacache/commit/c3644e5">c3644e5</a>)</li>
</ul>
<p><a name="6.0.1"></a></p>
<div class="pilwrap" id="6.0.1-2017-03-05">
  <h2>
    <a href="#6.0.1-2017-03-05" name="6.0.1-2017-03-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v6.0.0...v6.0.1">6.0.1</a> (2017-03-05)
  </h2>
</div>
<div class="pilwrap" id="bug-fixes-31">
  <h3>
    <a href="#bug-fixes-31" name="bug-fixes-31" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>docs:</strong> Missed spots in README (<a href="https://github.com/npm/cacache/commit/8ffb7fa">8ffb7fa</a>)</li>
</ul>
<p><a name="6.0.0"></a></p>
<div class="pilwrap" id="6.0.0-2017-03-05">
  <h1>
    <a href="#6.0.0-2017-03-05" name="6.0.0-2017-03-05" class="pilcrow"></a>
<a href="https://github.com/npm/cacache/compare/v5.0.3...v6.0.0">6.0.0</a> (2017-03-05)
  </h1>
</div>
<div class="pilwrap" id="bug-fixes-32">
  <h3>
    <a href="#bug-fixes-32" name="bug-fixes-32" class="pilcrow"></a>
Bug Fixes
  </h3>
</div>
<ul>
<li><strong>api:</strong> keep memo cache mostly-internal (<a href="https://github.com/npm/cacache/commit/2f72d0a">2f72d0a</a>)</li>
<li><strong>content:</strong> use the rest of the string, not the whole string (<a href="https://github.com/npm/cacache/commit/fa8f3c3">fa8f3c3</a>)</li>
<li><strong>deps:</strong> removed <code>format-number@2.0.2</code> (<a href="https://github.com/npm/cacache/commit/1187791">1187791</a>)</li>
<li><strong>deps:</strong> removed inflight@1.0.6 (<a href="https://github.com/npm/cacache/commit/0d1819c">0d1819c</a>)</li>
<li><strong>deps:</strong> rimraf@2.6.1 (<a href="https://github.com/npm/cacache/commit/9efab6b">9efab6b</a>)</li>
<li><strong>deps:</strong> standard@9.0.0 (<a href="https://github.com/npm/cacache/commit/4202cba">4202cba</a>)</li>
<li><strong>deps:</strong> tap@10.3.0 (<a href="https://github.com/npm/cacache/commit/aa03088">aa03088</a>)</li>
<li><strong>deps:</strong> weallcontribute@1.0.8 (<a href="https://github.com/npm/cacache/commit/ad4f4dc">ad4f4dc</a>)</li>
<li><strong>docs:</strong> add security note to hashKey (<a href="https://github.com/npm/cacache/commit/03f81ba">03f81ba</a>)</li>
<li><strong>hashes:</strong> change default hashAlgorithm to sha512 (<a href="https://github.com/npm/cacache/commit/ea00ba6">ea00ba6</a>)</li>
<li><strong>hashes:</strong> missed a spot for hashAlgorithm defaults (<a href="https://github.com/npm/cacache/commit/45997d8">45997d8</a>)</li>
<li><strong>index:</strong> add length header before JSON for verification (<a href="https://github.com/npm/cacache/commit/fb8cb4d">fb8cb4d</a>)</li>
<li><strong>index:</strong> change index filenames to sha1s of keys (<a href="https://github.com/npm/cacache/commit/bbc5fca">bbc5fca</a>)</li>
<li><strong>index:</strong> who cares about race conditions anyway (<a href="https://github.com/npm/cacache/commit/b1d3888">b1d3888</a>)</li>
<li><strong>perf:</strong> bulk-read get+read for massive speed (<a href="https://github.com/npm/cacache/commit/d26cdf9">d26cdf9</a>)</li>
<li><strong>perf:</strong> use bulk file reads for index reads (<a href="https://github.com/npm/cacache/commit/79a8891">79a8891</a>)</li>
<li><strong>put-stream:</strong> remove tmp file on stream insert error (<a href="https://github.com/npm/cacache/commit/65f6632">65f6632</a>)</li>
<li><strong>put-stream:</strong> robustified and predictibilized (<a href="https://github.com/npm/cacache/commit/daf9e08">daf9e08</a>)</li>
<li><strong>put-stream:</strong> use new promise API for moves (<a href="https://github.com/npm/cacache/commit/1d36013">1d36013</a>)</li>
<li><strong>readme:</strong> updated to reflect new default hashAlgo (<a href="https://github.com/npm/cacache/commit/c60a2fa">c60a2fa</a>)</li>
<li><strong>verify:</strong> tiny typo fix (<a href="https://github.com/npm/cacache/commit/db22d05">db22d05</a>)</li>
</ul>
<div class="pilwrap" id="features-17">
  <h3>
    <a href="#features-17" name="features-17" class="pilcrow"></a>
Features
  </h3>
</div>
<ul>
<li><strong>api:</strong> converted external api (<a href="https://github.com/npm/cacache/commit/7bf032f">7bf032f</a>)</li>
<li><strong>cacache:</strong> exported clearMemoized() utility (<a href="https://github.com/npm/cacache/commit/8d2c5b6">8d2c5b6</a>)</li>
<li><strong>cache:</strong> add versioning to content and index (<a href="https://github.com/npm/cacache/commit/31bc549">31bc549</a>)</li>
<li><strong>content:</strong> collate content files into subdirs (<a href="https://github.com/npm/cacache/commit/c094d9f">c094d9f</a>)</li>
<li><strong>deps:</strong> <code>@npmcorp/move@1.0.0</code> (<a href="https://github.com/npm/cacache/commit/bdd00bf">bdd00bf</a>)</li>
<li><strong>deps:</strong> <code>bluebird@3.4.7</code> (<a href="https://github.com/npm/cacache/commit/3a17aff">3a17aff</a>)</li>
<li><strong>deps:</strong> <code>promise-inflight@1.0.1</code> (<a href="https://github.com/npm/cacache/commit/a004fe6">a004fe6</a>)</li>
<li><strong>get:</strong> added memoization support for get (<a href="https://github.com/npm/cacache/commit/c77d794">c77d794</a>)</li>
<li><strong>get:</strong> export hasContent (<a href="https://github.com/npm/cacache/commit/2956ec3">2956ec3</a>)</li>
<li><strong>index:</strong> add hashAlgorithm and format insert ret val (<a href="https://github.com/npm/cacache/commit/b639746">b639746</a>)</li>
<li><strong>index:</strong> collate index files into subdirs (<a href="https://github.com/npm/cacache/commit/e8402a5">e8402a5</a>)</li>
<li><strong>index:</strong> promisify entry index (<a href="https://github.com/npm/cacache/commit/cda3335">cda3335</a>)</li>
<li><strong>memo:</strong> added memoization lib (<a href="https://github.com/npm/cacache/commit/da07b92">da07b92</a>)</li>
<li><strong>memo:</strong> export memoization api (<a href="https://github.com/npm/cacache/commit/954b1b3">954b1b3</a>)</li>
<li><strong>move-file:</strong> add move fallback for weird errors (<a href="https://github.com/npm/cacache/commit/5cf4616">5cf4616</a>)</li>
<li><strong>perf:</strong> bulk content write api (<a href="https://github.com/npm/cacache/commit/51b536e">51b536e</a>)</li>
<li><strong>put:</strong> added memoization support to put (<a href="https://github.com/npm/cacache/commit/b613a70">b613a70</a>)</li>
<li><strong>read:</strong> switched to promises (<a href="https://github.com/npm/cacache/commit/a869362">a869362</a>)</li>
<li><strong>rm:</strong> added memoization support to rm (<a href="https://github.com/npm/cacache/commit/4205cf0">4205cf0</a>)</li>
<li><strong>rm:</strong> switched to promises (<a href="https://github.com/npm/cacache/commit/a000d24">a000d24</a>)</li>
<li><strong>util:</strong> promise-inflight ownership fix requests (<a href="https://github.com/npm/cacache/commit/9517cd7">9517cd7</a>)</li>
<li><strong>util:</strong> use promises for api (<a href="https://github.com/npm/cacache/commit/ae204bb">ae204bb</a>)</li>
<li><strong>verify:</strong> converted to Promises (<a href="https://github.com/npm/cacache/commit/f0b3974">f0b3974</a>)</li>
</ul>
<div class="pilwrap" id="breaking-changes-6">
  <h3>
    <a href="#breaking-changes-6" name="breaking-changes-6" class="pilcrow"></a>
BREAKING CHANGES
  </h3>
</div>
<ul>
<li>cache: index/content directories are now versioned. Previous caches are no longer compatible and cannot be migrated.</li>
<li>util: fix-owner now uses Promises instead of callbacks</li>
<li>index: Previously-generated index entries are no longer compatible and the index must be regenerated.</li>
<li>index: The index format has changed and previous caches are no longer compatible. Existing caches will need to be regenerated.</li>
<li>hashes: Default hashAlgorithm changed from sha1 to sha512. If you
rely on the prior setting, pass <code>opts.hashAlgorithm</code> in explicitly.</li>
<li>content: Previously-generated content directories are no longer compatible
and must be regenerated.</li>
<li>verify: API is now promise-based</li>
<li>read: Switches to a Promise-based API and removes callback stuff</li>
<li>rm: Switches to a Promise-based API and removes callback stuff</li>
<li>index: this changes the API to work off promises instead of callbacks</li>
<li>api: this means we are going all in on promises now</li>
</ul>
</div>
  </div>
</body>
</html>
